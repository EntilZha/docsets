<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Run Aim UI on SageMaker Notebook instance &mdash; Aim 3.13.4 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/logo.svg"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Integration guides" href="integration_guides.html" />
    <link rel="prev" title="Run Aim UI on Jupyter Notebook" href="jupyter_notebook_ui.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Aim
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Quick Start</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/setup.html">Get started with Aim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/integrations.html">Integrate Aim into an existing project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/convert_data.html">Migrate from other tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/supported_types.html">Track media and objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/next_steps.html">Next steps</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Aim UI</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ui/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui/pages/home_page.html">Home Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui/pages/run_management.html">Runs Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui/pages/explorers.html">Explorers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui/pages/table.html">Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui/pages/bookmarks.html">Bookmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui/pages/tags.html">Tags page</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using Aim</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="manage_runs.html">Manage runs</a></li>
<li class="toctree-l1"><a class="reference internal" href="configure_runs.html">Configure runs</a></li>
<li class="toctree-l1"><a class="reference internal" href="query_runs.html">Query runs and objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="search.html">Query language basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="remote_tracking.html">Track experiments with aim remote server</a></li>
<li class="toctree-l1"><a class="reference internal" href="run_status_notifications.html">Monitoring and Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="k8s_deployment.html">Host Aim on Kubernetes (K8S)</a></li>
<li class="toctree-l1"><a class="reference internal" href="jupyter_notebook_ui.html">Run Aim UI on Jupyter Notebook</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Run Aim UI on SageMaker Notebook instance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#using-terminal">Using Terminal</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-notebook-extension">Using Notebook Extension</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="integration_guides.html">Integration guides</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Understanding Aim</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../understanding/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../understanding/data_storage.html">Data storage - where Aim data is collected</a></li>
<li class="toctree-l1"><a class="reference internal" href="../understanding/storage_indexing.html">Storage indexing - how Aim data is indexed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../understanding/concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../understanding/running_aim_with_profiling.html">Running Aim with profiling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../understanding/metric_step_hashing.html">Storing Metric sequence data for fast access</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/images_explorer_gan.html">Track and compare GANs with Aim</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../refs/cli.html">Aim CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refs/cli.html#aim-status-watcher-cli">Aim status watcher CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refs/sdk.html">Aim SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refs/storage.html">Aim Storage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community/telemetry.html">Anonymized Telemetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generated/CHANGELOG.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Aim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Run Aim UI on SageMaker Notebook instance</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/using/sagemaker_notebook_ui.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="run-aim-ui-on-sagemaker-notebook-instance">
<h1>Run Aim UI on SageMaker Notebook instance<a class="headerlink" href="#run-aim-ui-on-sagemaker-notebook-instance" title="Permalink to this heading"></a></h1>
<p>In this guide you will learn how to run Aim UI on your Sagemaker Jupyter instance</p>
<p>Aim can be installed and used on Jupyter notebooks. With SageMaker notebook instance, there are difficulties with establishing POST requests which prevents some Aim functionalities to work.
So we have built a script to update the proxying package on SageMaker notebook instance.
In order to work with Aim UI, please follow the steps below:</p>
<ul class="simple">
<li><p>Create a lifecycle configuration on your SageMaker Service.</p></li>
<li><p>Copy and paste the <a class="reference external" href="https://github.com/aimhubio/aim/blob/main/aim/scripts/sagemaker/on-start.sh">script</a> in your configuration’s <code class="docutils literal notranslate"><span class="pre">Start</span> <span class="pre">Notebook</span></code> phase.</p></li>
</ul>
<p><span class="raw-html-m2r"><img style="border: 1px solid #1d2253" src="../_static/images/using/jupyter/create-configuration.png" /></span>
For more information how to create a lifecycle configuration on AWS SageMaker Service, please go through the <a class="reference external" href="https://docs.aws.amazon.com/sagemaker/latest/dg/notebook-lifecycle-config.html">AWS SageMaker Documentation</a>.</p>
<p>After creating a lifecycle configuration, attach it to your SageMaker instance and restart the instance.</p>
<p>It is possible to run this script manually from the terminal of your jupyter instance as well.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Why this script is used for?</strong></p>
<p>The script above will uptade the <cite>jupyter-server-proxy</cite> package on your notebook instance.
To access a port on your instance (i.e. open the Aim UI) API requests and static files need to go through the proxy, which is created by the package (see the script).
It will replace the existing proxy and make sure Aim and other such requests go through.
Fore more information please go through the <a class="reference external" href="https://github.com/jupyterhub/jupyter-server-proxy/pull/328#issue-1145874348">https://github.com/jupyterhub/jupyter-server-proxy/pull/328#issue-1145874348</a>.</p>
</div>
<p>Once your notebook instance is successfully restarted you will be able to use Aim UI on the instance.</p>
<p>Next, install aim.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ pip install aim
</pre></div>
</div>
<p>Initialize a new run and save some hyperparameters.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aim</span> <span class="kn">import</span> <span class="n">Run</span>

<span class="n">run</span> <span class="o">=</span> <span class="n">Run</span><span class="p">()</span>

<span class="n">run</span><span class="p">[</span><span class="s1">&#39;hparams&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;learning_rate&#39;</span><span class="p">:</span> <span class="mf">0.001</span><span class="p">,</span>
    <span class="s1">&#39;batch_size&#39;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="using-terminal">
<h2>Using Terminal<a class="headerlink" href="#using-terminal" title="Permalink to this heading"></a></h2>
<p>In order to run Aim UI from a terminal, execute the following command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ aim up --base-path<span class="o">=</span>/proxy/absolute/&lt;your-port&gt;/aim-sage
</pre></div>
</div>
<p>After running this command you will be able to open <code class="docutils literal notranslate"><span class="pre">&lt;sagemker_instance&gt;/proxy/absolute/&lt;your-port&gt;/aim-sage/</span></code> in your browser.
The default port is <code class="docutils literal notranslate"><span class="pre">43800</span></code>.</p>
<p>It is possible to set <code class="docutils literal notranslate"><span class="pre">__AIM_PROXY_URL__</span></code> env variable, and <code class="docutils literal notranslate"><span class="pre">aim</span> <span class="pre">up</span></code> command will print out the generated url for Aim UI.</p>
<p>To find your proxy url, just copy your SageMaker URL and remove <code class="docutils literal notranslate"><span class="pre">/lab</span></code> postfix.</p>
<p><span class="raw-html-m2r"><img style="border: 1px solid #1d2253" src="../_static/images/using/jupyter/sagemaker-terminal.png"/></span></p>
</section>
<section id="using-notebook-extension">
<h2>Using Notebook Extension<a class="headerlink" href="#using-notebook-extension" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Load Aim extension for notebooks:</p></li>
</ol>
<div class="highlight-jupyter notranslate"><div class="highlight"><pre><span></span>%load_ext aim
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">%aim</span> <span class="pre">up</span></code> command to open Aim UI in the notebook:</p></li>
</ol>
<div class="highlight-jupyter notranslate"><div class="highlight"><pre><span></span>%aim up --proxy-url=https://&lt;instance&gt;.notebook.&lt;region&gt;.sagemaker.aws
</pre></div>
</div>
<p>Will load the Aim UI in the notebook cell.</p>
<p><span class="raw-html-m2r"><img style="border: 1px solid #1d2253" src="../_static/images/using/jupyter/sagemaker-notebook.png" /></span></p>
<p>Will print out the proxy url under the loaded Aim UI. Use that URL to open Aim UI on your browser.</p>
<p><span class="raw-html-m2r"><img style="border: 1px solid #1d2253" src="../_static/images/using/jupyter/sagemaker-full-view.png" /></span></p>
<p>The default port is <code class="docutils literal notranslate"><span class="pre">43801</span></code> for  notebook  extension to prevent confusions.
The <code class="docutils literal notranslate"><span class="pre">--port=&lt;your-port&gt;</span></code> argument is supported as well.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In notebook extension, the only mandatory argument is <code class="docutils literal notranslate"><span class="pre">--proxy-url</span></code> when using it on SageMaker.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="jupyter_notebook_ui.html" class="btn btn-neutral float-left" title="Run Aim UI on Jupyter Notebook" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="integration_guides.html" class="btn btn-neutral float-right" title="Integration guides" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2022, Gev Sogomonian, Gor Arakelyan et al...</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>